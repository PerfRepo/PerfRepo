<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
        >
<h:body>
    <f:metadata>
        <f:event type="preRenderView" listener="#{userProfileController.preRender}"/>
    </f:metadata>
    <ui:composition template="/layout/template.xhtml">
        <ui:define name="title">User profile</ui:define>
        <ui:define name="content">
            <div style=" overflow: hidden;">
                <div id="control" style="float: left;opacity: 0.3;overflow: hidden;height:60px;">
                    <h2 class="text-success" style="">Profile</h2>
                </div>

                <div id="control"
                     style="text-align:right;float: right;line-height: 40px; margin: 10px 0;width:400px;height:40px;">
               <span style="margin:5px;">
                  <a class="text-success" href="#{request.contextPath}/profile/edit">
                      <i class="icon-edit" title="#{strings.edit}"/> Edit profile
                  </a>
               </span>

               <span style="margin:5px;">
                  <a class="text-success" href="#{request.contextPath}/profile/change_password">
                      <i class="icon-lock" title="#{strings.edit}"/> Change password
                  </a>
               </span>
                </div>
            </div>
            <hr/>
            <fieldset>
                <h1>About user</h1>
                <h:outputLabel class="detail-label">Username</h:outputLabel>

                <div class="detail-value">#{userProfileController.user.username}</div>
                <h:outputLabel class="detail-label">First name</h:outputLabel>

                <div class="detail-value">#{userProfileController.user.firstName}</div>
                <h:outputLabel class="detail-label">Last name</h:outputLabel>

                <div class="detail-value">#{userProfileController.user.lastName}</div>
                <h:outputLabel class="detail-label">E-mail</h:outputLabel>

                <div class="detail-value">#{userProfileController.user.email}</div>
                <h:outputLabel class="detail-label">Assigned groups</h:outputLabel>

                <div class="detail-value">
                    <ui:repeat value="#{userProfileController.user.groups}" var="group">
                        <h:outputText value="#{group.name}"/><br/>
                    </ui:repeat>
                </div>
            </fieldset>
        </ui:define>
    </ui:composition>
</h:body>
</html>