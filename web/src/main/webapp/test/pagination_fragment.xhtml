<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:a4j="http://richfaces.org/a4j"
        xmlns:ui="http://java.sun.com/jsf/facelets">
   <div class="pagination pagination-right">
      <ul>
         <ui:fragment rendered="#{testSearchController.resultsPageNumber gt 1}">
            <li>
               <a4j:commandLink render=":searchResult" action="#{testSearchController.changeResultsPageNumber(1)}" title="First page">
                  1
               </a4j:commandLink>
            </li>
         </ui:fragment>

         <ui:fragment rendered="#{testSearchController.resultsPageNumber gt 3}">
            <li>
               <a4j:commandLink render=":searchResult" action="#{testSearchController.changeResultsPageNumber(testSearchController.resultsPageNumber - 2)}" title="Two pages back">
                  ...
               </a4j:commandLink>
            </li>
         </ui:fragment>

         <ui:fragment rendered="#{testSearchController.resultsPageNumber gt 2}">
            <li>
               <a4j:commandLink render=":searchResult" action="#{testSearchController.changeResultsPageNumber(testSearchController.resultsPageNumber - 1)}" title="Previous page">
                  #{testSearchController.resultsPageNumber-1}
               </a4j:commandLink>
            </li>
         </ui:fragment>

         <li>
            <span>#{testSearchController.resultsPageNumber}</span>
         </li>

         <ui:fragment rendered="#{testSearchController.resultsPageNumber lt testSearchController.totalNumberOfResultsPages - 1}">
            <li>
               <a4j:commandLink render=":searchResult" action="#{testSearchController.changeResultsPageNumber(testSearchController.resultsPageNumber + 1)}" title="Next page">
                  #{testSearchController.resultsPageNumber+1}
               </a4j:commandLink>
            </li>
         </ui:fragment>

         <ui:fragment rendered="#{testSearchController.resultsPageNumber lt testSearchController.totalNumberOfResultsPages - 2}">
            <li>
               <a4j:commandLink render=":searchResult" action="#{testSearchController.changeResultsPageNumber(testSearchController.resultsPageNumber + 2)}" title="Two pages forward">
                  ...
               </a4j:commandLink>
            </li>
         </ui:fragment>

         <ui:fragment rendered="#{testSearchController.resultsPageNumber lt testSearchController.totalNumberOfResultsPages}">
            <li>
               <a4j:commandLink render=":searchResult" action="#{testSearchController.changeResultsPageNumber(testSearchController.totalNumberOfResultsPages)}" title="Last page">
                  #{testSearchController.totalNumberOfResultsPages}
               </a4j:commandLink>
            </li>
         </ui:fragment>
      </ul>
   </div>
</ui:composition>