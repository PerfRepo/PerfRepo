<h:form xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:a4j="http://richfaces.org/a4j"
        xmlns:rich="http://richfaces.org/rich">
    <rich:hotKey key="Esc">
        <rich:componentControl target="dialogCommentEdit" operation="hide"/>
    </rich:hotKey>

    <rich:popupPanel id="dialogCommentEdit" modal="true" autosized="true" resizeable="false"
                     domElementAttachment="form">
        <f:facet name="header">
            <h:outputText value="Edit comment"/>
        </f:facet>

        <fieldset>
            <h:outputLabel class="detail-label">Comment</h:outputLabel>

            <div class="detail-value">
                <!--<h:inputText styleClass="input-text" value="#{metricReportBean.pointDetails.comment}" />-->
                <rich:editor value="#{metricReportBean.pointDetails.comment}" toolbar="basic">
                    <f:facet name="config">
                        width : 600,
                        enterMode : CKEDITOR.ENTER_BR,
                        resize_enabled : false
                    </f:facet>
                </rich:editor>
            </div>
            <div style="text-align:right">
                <a4j:commandButton styleClass="btn btn-secondary btn-small"
                                   oncomplete="#{rich:component('dialogCommentEdit')}.hide()" value="#{strings.cancel}"
                                   title="#{strings.cancel}"
                                   render="@form"/>
                <a4j:commandButton styleClass="btn btn-primary btn-small"
                                   action="#{metricReportBean.updateTestExecutionFromDetail()}" value="#{strings.save}"
                                   title="#{strings.save}"
                                   oncomplete="#{rich:component('dialogCommentEdit')}.hide();metricHistoryRefresh()"
                                   render="@form :formChart :messagesPanel"/>
            </div>
        </fieldset>
    </rich:popupPanel>
</h:form>

